import{a as n,b as t}from"./tslib.es6.d5acbd82.js";import{d as e,f as a,e as i,s as o,x as r,c as s,k as l,y as d,a as c,z as u,l as m,T as p,w as f,p as g,b as h,o as b,A as v}from"./index.290b8796.js";var w=e({name:"AnimationDialog",props:{width:{type:String,default:"60vw"},height:{type:String,default:"70vh"},animationMode:{type:Boolean,default:!1},animationIn:{type:String,default:"bounceIn"},animationOut:{type:String,default:"bounceOut"},time:{type:Number,default:500},timingFunction:{type:String,default:"cubic-bezier(0.55,-0.15, 0.71, 1.35)"},openFromItself:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},customClass:String,listenWindowSizeChange:{type:Boolean,default:!1},debounceWait:{type:Number,default:200}},emits:["beforeClose"],setup:function(e,s){var l=this,d=s.emit,c=a(),u=a(),m=a(),p=i((function(){return e.time/1e3})),f=null,g=function(){f&&clearTimeout(f),f=setTimeout((function(){return n(l,void 0,void 0,(function(){var n,e,a,i,o,r,s,l;return t(this,(function(t){switch(t.label){case 0:return n=c.value.getBoundingClientRect(),e=n.width,a=n.height,c.value.style.left="calc(50% - "+e/2+"px",c.value.top="calc(50% - "+a/2+"px)",[4,v()];case 1:return t.sent(),i=c.value.getBoundingClientRect(),o=i.top,r=i.left,s=i.width,l=i.height,m.value.style.top=o+"px",m.value.style.left=r+"px",m.value.style.width=s+"px",m.value.style.height=l+"px",[2]}}))}))}),e.debounceWait)};o((function(){e.listenWindowSizeChange&&window.addEventListener("resize",g)})),r((function(){e.listenWindowSizeChange&&window.removeEventListener("resize",g)}));var h=a(!1),b=null,w=null;return{open:function(a){return n(l,void 0,void 0,(function(){var n,i,o,r,s,l,d,f,g,y,x,k,C,B,T;return t(this,(function(t){switch(t.label){case 0:return e.animationMode?(h.value=!0,[4,v()]):[3,3];case 1:return t.sent(),n=c.value.getBoundingClientRect(),g=n.width,y=n.height,c.value.style.left="calc(50% - "+g/2+"px",c.value.style.top="calc(50% - "+y/2+"px)",[4,v()];case 2:return t.sent(),i=c.value.getBoundingClientRect(),k=i.top,C=i.left,B=i.width,T=i.height,m.value.style.cssText="top:"+k+"px; \n                                    left: "+C+"px;\n                                    width: "+B+"px;\n                                    height: "+T+"px;\n                                    animation: "+e.animationIn+" "+p.value+"s",[3,6];case 3:return h.value=!0,(b=a?"string"==typeof a?document.querySelector(a):a:u.value).classList.add("is-open"),[4,v()];case 4:return t.sent(),o=b.getBoundingClientRect(),r=o.top,s=o.left,l=o.width,d=o.height,m.value.classList.add("animating"),m.value.style.cssText="top:"+r+"px; left: "+s+"px;width: "+l+"px;height: "+d+"px;",f=c.value.getBoundingClientRect(),g=f.width,y=f.height,c.value.style.left="calc(50% - "+g/2+"px",c.value.style.top="calc(50% - "+y/2+"px)",e.openFromItself&&(w=b.cloneNode(!0),b.style.visibility="hidden",S=w,(I=(z=b).parentNode).lastChild===z?I.appendChild(S):I.insertBefore(S,z.nextSibling),w.style.cssText="position:absolute;top:0;left:0;right:0;bottom:0;margin:0;width: auto;height:auto;",m.value.querySelector(".dialog-body").appendChild(w)),[4,v()];case 5:t.sent(),x=c.value.getBoundingClientRect(),k=x.top,C=x.left,B=x.width,T=x.height,m.value.style.cssText="top:"+k+"px; \n                                    left: "+C+"px;\n                                    width: "+B+"px;\n                                    height: "+T+"px;\n                                    transition: "+p.value+"s all "+e.timingFunction,setTimeout((function(){m.value.classList.remove("animating")}),e.time+100),t.label=6;case 6:return[2]}var S,z,I}))}))},close:function(){if(e.animationMode)m.value.style.animation=e.animationOut+" "+p.value+"s",d("beforeClose"),setTimeout((function(){h.value=!1}),e.time-100);else{if(!b)return;var n=b.getBoundingClientRect(),t=n.top,a=n.left,i=n.width,o=n.height;m.value.classList.add("animating"),m.value.style.cssText="top:"+t+"px; \n                                    left: "+a+"px;\n                                    width: "+i+"px;\n                                    height: "+o+"px;\n                                    transition: "+p.value+"s all "+e.timingFunction,d("beforeClose"),setTimeout((function(){b&&(b.classList.remove("is-open"),m.value.classList.remove("animating"),h.value=!1,e.openFromItself&&(b.style.visibility="visible",m.value.querySelector(".dialog-body").removeChild(w)))}),e.time+100)}},staticFake:c,centerFake:u,main:m,show:h}}});const y=f("data-v-1424118a");g("data-v-1424118a");const x={ref:"centerFake",class:"dialog-center-fake"},k=c("span",{class:"line"},null,-1),C=c("span",{class:"line"},null,-1),B={class:"dialog-body"};h();const T=y(((n,t,e,a,i,o)=>(b(),s(p,{to:"body",disabled:!n.appendToBody},[l(c("div",{class:"animation-dialog-wrapper",onClick:t[2]||(t[2]=m(((...t)=>n.close&&n.close(...t)),["self"]))},[c("div",{ref:"staticFake",class:"dialog-static-fake",style:{width:n.width,height:n.height}},null,4),c("div",x,null,512),c("div",{ref:"main",class:["dialog",n.customClass]},[c("div",{class:"icon-close",onClick:t[1]||(t[1]=(...t)=>n.close&&n.close(...t))},[k,C]),c("div",B,[u(n.$slots,"default")])],2)],512),[[d,n.show]])],8,["disabled"]))));function S(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}S(".animation-dialog-wrapper[data-v-1424118a] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  z-index: 100001;\n}\n.animation-dialog-wrapper .dialog-static-fake[data-v-1424118a] {\n  position: absolute;\n  visibility: hidden;\n}\n.animation-dialog-wrapper .dialog-center-fake[data-v-1424118a] {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  visibility: hidden;\n}\n.animation-dialog-wrapper .dialog[data-v-1424118a] {\n  position: absolute;\n  background: #fff;\n  cursor: default;\n  box-shadow: 0 0 5px #888;\n  width: 50%;\n  overflow: hidden;\n}\n.animation-dialog-wrapper .dialog .dialog-body[data-v-1424118a] {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  padding: 20px;\n  text-align: left;\n}\n.animation-dialog-wrapper .dialog.animating .dialog-body[data-v-1424118a] {\n  overflow: hidden;\n}\n.animation-dialog-wrapper .dialog .icon-close[data-v-1424118a] {\n  width: 36px;\n  height: 36px;\n  position: absolute;\n  right: 12px;\n  top: 10px;\n  background: transparent;\n  cursor: pointer;\n  z-index: 9999;\n}\n.animation-dialog-wrapper .dialog .icon-close .line[data-v-1424118a] {\n  display: block;\n  position: absolute;\n  width: 20px;\n  height: 2px;\n  top: 17px;\n  right: 8px;\n  transform-origin: center;\n  border-radius: 1px;\n  background: #99a;\n}\n.animation-dialog-wrapper .dialog .icon-close .line[data-v-1424118a]:nth-child(1) {\n  transform: rotate(45deg);\n}\n.animation-dialog-wrapper .dialog .icon-close .line[data-v-1424118a]:nth-child(2) {\n  transform: rotate(-45deg);\n}\n.animation-dialog-wrapper .dialog .icon-close:hover .line[data-v-1424118a] {\n  background: #667;\n}");S("\r\n/* Inject default animate css mode */\r\n/* Bouncing entrances  */\n@-webkit-keyframes bounceIn {\nfrom,\r\n  20%,\r\n  40%,\r\n  60%,\r\n  80%,\r\n  to {\r\n    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n}\n0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n20% {\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\n40% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n60% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.03, 1.03, 1.03);\r\n    transform: scale3d(1.03, 1.03, 1.03);\n}\n80% {\r\n    -webkit-transform: scale3d(0.97, 0.97, 0.97);\r\n    transform: scale3d(0.97, 0.97, 0.97);\n}\nto {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\n}\n}\n@keyframes bounceIn {\nfrom,\r\n  20%,\r\n  40%,\r\n  60%,\r\n  80%,\r\n  to {\r\n    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n}\n0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n20% {\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\n40% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n60% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.03, 1.03, 1.03);\r\n    transform: scale3d(1.03, 1.03, 1.03);\n}\n80% {\r\n    -webkit-transform: scale3d(0.97, 0.97, 0.97);\r\n    transform: scale3d(0.97, 0.97, 0.97);\n}\nto {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\n}\n}\n.animate__bounceIn {\r\n  -webkit-animation-duration: calc(1s * 0.75);\r\n  animation-duration: calc(1s * 0.75);\r\n  -webkit-animation-duration: calc(var(--animate-duration) * 0.75);\r\n  animation-duration: calc(var(--animate-duration) * 0.75);\r\n  -webkit-animation-name: bounceIn;\r\n  animation-name: bounceIn;\n}\r\n/* Bouncing exits  */\n@-webkit-keyframes bounceOut {\n20% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n50%,\r\n  55% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\nto {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n}\n@keyframes bounceOut {\n20% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n50%,\r\n  55% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\nto {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n}\n.animate__bounceOut {\r\n  -webkit-animation-duration: calc(1s * 0.75);\r\n  animation-duration: calc(1s * 0.75);\r\n  -webkit-animation-duration: calc(var(--animate-duration) * 0.75);\r\n  animation-duration: calc(var(--animate-duration) * 0.75);\r\n  -webkit-animation-name: bounceOut;\r\n  animation-name: bounceOut;\n}\r\n"),w.render=T,w.__scopeId="data-v-1424118a",w.__file="packages/animation-dialog/animation-dialog.vue",w.install=function(n){n.component(w.name,w)};export{w as s};
