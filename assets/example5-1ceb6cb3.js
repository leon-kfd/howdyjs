import{a as _}from"./index.es-cc6df814.js";import{d as T,a as p,_ as h,h as y,o as m,i as u,k as s,B,j as C,J as E,F as R}from"./index-ed9ba0aa.js";const w=T({directives:{"to-drag":_},setup(){const e=p(0),o=p();return{rotate:e,compass:o,options:{immediateEvent:!0,forbidBodyScroll:!1},setCompassRotate(n){const{top:r,left:d,width:i,height:a}=o.value.getBoundingClientRect(),t=[d-i/2,r-a/2],{top:g,left:v,width:c,height:f}=n,l=[v-c/2,g-f/2],D=Math.atan2(l[1]-t[1],l[0]-t[0])/Math.PI*180;e.value=D+90},handleToDragStart(){document.body.style.overflow="hidden"},handleToDragEnd(){document.body.style.overflow="visible"}}}}),b=""+new URL("../images/compass.svg",import.meta.url).href;const F={class:"compass-box"},S={ref:"compass",src:b,alt:"compass",class:"compass"};function $(e,o,n,r,d,i){const a=y("to-drag");return m(),u(R,null,[o[5]||(o[5]=s("div",{class:"text"}," 请拖拽屏幕上的紫色浮块 ",-1)),s("div",F,[s("div",{class:"img-wrapper",style:B({transform:`rotate(${e.rotate}deg)`})},[s("img",S,null,512)],4)]),C((m(),u("div",{class:"move-box",onTodraginit:o[0]||(o[0]=(...t)=>e.setCompassRotate&&e.setCompassRotate(...t)),onTodragstart:o[1]||(o[1]=(...t)=>e.handleToDragStart&&e.handleToDragStart(...t)),onTodragmove:o[2]||(o[2]=(...t)=>e.setCompassRotate&&e.setCompassRotate(...t)),onTodragend:o[3]||(o[3]=(...t)=>e.handleToDragEnd&&e.handleToDragEnd(...t))},o[4]||(o[4]=[E(" DRAG ")]),32)),[[a,e.options]])],64)}const x=h(w,[["render",$],["__scopeId","data-v-92cf834f"]]);export{x as default};
