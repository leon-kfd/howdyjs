import{a as t,b as e}from"./tslib.es6.d5acbd82.js";import{d as n,f as a,e as i,h as o,c as l,a as r,F as u,m as s,w as c,o as v,t as d,z as h,A as p}from"./index.f844311e.js";var b=n({name:"StandardTabs",props:{tabWidth:{type:Number,default:80},lineWidth:{type:Number,default:30},tabContentWidth:{type:[Number,String],default:"100vw"},tabContentMinHeight:{type:String,default:"100px"},tabList:{type:Array,required:!0},transitionDuration:{type:Number,default:400},mainTransitionTimingFunction:{type:String,default:"cubic-bezier(0.075, 0.82, 0.165, 1)"},tabTransitionTimingFunction:{type:String,default:"cubic-bezier(0.175, 0.885, 0.32, 1.275)"},tabCustomStyle:{type:String,default:""},stopPropagation:{type:Boolean,default:!1},moveEventPrevent:{type:Boolean,default:!0}},emits:["tabActiveChange","contentTouchStart","contentTouchMove","contentTouchEnd"],setup:function(n,l){var r=this,u=l.emit,s=0,c=0,v=0,d=0,h=0,b=!1,f=!1,m=a(0),T=a(0),_=a(0),g=a(0),w=a(0),y=a(!1),x=a(!1),W=a(!1),S=a(!1),C=i((function(){return n.tabWidth*n.tabList.length})),M=i((function(){return"number"==typeof n.tabContentWidth?n.tabContentWidth:"string"==typeof n.tabContentWidth&&/\d+vw/.test(n.tabContentWidth)?~~n.tabContentWidth.replace("vw","")*window.innerWidth/100:(console.error("[StandardTabs]Props Error: tabContentWidth is invalid, it will reset to 100vw!"),window.innerWidth)})),$=i((function(){return(n.tabWidth-n.lineWidth)/2})),L=i((function(){return"transition: all "+n.transitionDuration/1e3+"s "+n.mainTransitionTimingFunction})),E=i((function(){return"transition: all "+n.transitionDuration/1e3+"s "+n.tabTransitionTimingFunction})),P=i((function(){var t=m.value*n.tabWidth,e=n.tabWidth*(n.tabList.length-1);return t<0?t=0:t>e&&(t=e),t}));o(m,(function(t){u("tabActiveChange",t)}));var A=function(t){var e=t*n.tabWidth-M.value/2+n.tabWidth/2,a=C.value-M.value;a<0||(g.value=e<0?0:e>a?-a:-e)};return{active:m,preActive:T,lineDynamicWidth:_,tabListMove:g,tabContentMove:w,transition:y,denyLineTransition:x,isDragRight:W,isYScroll:S,tabListMaxWidth:C,tabContentRealWidth:M,lineSpacing:$,computedMainTransitionStr:L,computedTabTransitionStr:E,lineLeft:P,listTouchStart:function(t){var e=t.touches[0].clientX;s=e},listTouchMove:function(t){var e=t.touches[0].clientX,n=e-s,a=C.value-M.value;g.value=g.value+n,g.value>0?g.value=0:g.value<-a&&(g.value=-a),s=e},listTouchEnd:function(t){console.log("touchEnd",t)},contentTouchStart:function(t){var e=t.touches[0],a=e.clientX,i=e.clientY;c=v=a,d=i,h=w.value,_.value=0,x.value=!0,b=!0,setTimeout((function(){b=!1}),300),u("contentTouchStart",t),n.stopPropagation&&t.stopPropagation()},contentTouchMove:function(t){var e=n.tabWidth/M.value,a=t.touches[0],i=a.clientX,o=a.clientY,l=i-c;if(f||(f=!0,S.value=Math.abs(o-d)/Math.abs(i-v)>1),W.value=i-v<0,!S.value){n.moveEventPrevent&&t.preventDefault();var r=M.value*(n.tabList.length-1);if(w.value=w.value+l,W.value?m.value!==n.tabList.length-1&&(_.value+=-l*e):0!==m.value&&(_.value+=+l*e),_.value<0&&(_.value=0),w.value>0)w.value=0;else if(w.value<-r)w.value=-r;else{var s=i-v;Math.abs(s)>M.value/2?s<0?T.value!==m.value+1&&T.value++:T.value!==m.value-1&&T.value--:T.value=m.value}c=i,u("contentTouchMove",t),n.stopPropagation&&t.stopPropagation()}},contentTouchEnd:function(a){return t(r,void 0,void 0,(function(){var t,i,o;return e(this,(function(e){switch(e.label){case 0:return f=!1,S.value?[2]:(t=a.changedTouches[0].clientX,i=t-v,o=Math.abs(i),y.value=!0,x.value=!1,[4,p()]);case 1:if(e.sent(),b&&o>10||o>M.value/2){if(i>0){if(0===m.value)return[2];w.value=h+M.value,m.value--}else{if(m.value===n.tabList.length-1)return[2];w.value=h-M.value,m.value++}T.value=m.value,A(m.value)}else w.value=h;return _.value=0,setTimeout((function(){y.value=!1}),500),u("contentTouchEnd",a),n.stopPropagation&&a.stopPropagation(),[2]}}))}))},setActive:function(n){return t(r,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return y.value=!0,[4,p()];case 1:return t.sent(),m.value=T.value=n,A(n),w.value=-m.value*M.value,setTimeout((function(){y.value=!1}),500),[2]}}))}))}}}});const f=c("data-v-465239b9")(((t,e,n,a,i,o)=>(v(),l("div",{class:"__tab-wrapper",style:`width: ${t.tabContentRealWidth}px`},[r("div",{class:"__tab-list",style:`width:${t.tabListMaxWidth}px;transform: translateX(${t.tabListMove}px);${t.tabCustomStyle};${t.transition&&t.computedTabTransitionStr};`,onTouchstart:e[1]||(e[1]=(...e)=>t.listTouchStart&&t.listTouchStart(...e)),onTouchmove:e[2]||(e[2]=(...e)=>t.listTouchMove&&t.listTouchMove(...e)),onTouchend:e[3]||(e[3]=(...e)=>t.listTouchEnd&&t.listTouchEnd(...e))},[(v(!0),l(u,null,s(t.tabList,((e,n)=>(v(),l("div",{key:e,class:["__tab-list-item",{active:t.preActive===n}],style:`width: ${t.tabWidth}px`,onClick:e=>t.setActive(n)},d(e),15,["onClick"])))),128)),r("div",{class:["__line-wrapper",{"deny-transition":t.denyLineTransition}],style:`width: ${t.tabWidth}px;transform: translateX(${t.lineLeft}px);${t.transition&&t.computedMainTransitionStr}`},[r("div",{class:"__line",style:`width: ${t.lineWidth+t.lineDynamicWidth}px;${t.isDragRight?"left":"right"}: ${t.lineSpacing}px;${t.transition&&t.computedMainTransitionStr};`},null,4)],6)],36),r("div",{class:"__tab-content",style:`width:${100*t.tabList.length}vw;transform: translateX(${t.tabContentMove}px);${t.transition&&t.computedMainTransitionStr}`,onTouchstart:e[4]||(e[4]=(...e)=>t.contentTouchStart&&t.contentTouchStart(...e)),onTouchmove:e[5]||(e[5]=(...e)=>t.contentTouchMove&&t.contentTouchMove(...e)),onTouchend:e[6]||(e[6]=(...e)=>t.contentTouchEnd&&t.contentTouchEnd(...e))},[(v(!0),l(u,null,s(t.tabList,((e,n)=>(v(),l("div",{key:e,class:["__tab-content-item",{active:t.active===n}],style:`width: ${t.tabContentRealWidth}px;min-height: ${t.tabContentMinHeight}`},[h(t.$slots,`tab${n+1}`)],6)))),128))],36)],4))));!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".deny-transition[data-v-465239b9] {\n  transition: none !important;\n}\n.__tab-wrapper[data-v-465239b9] {\n  width: 100vw;\n  overflow: hidden;\n}\n.__tab-wrapper .__tab-list[data-v-465239b9] {\n  width: 999999px;\n  display: flex;\n  flex-wrap: nowrap;\n  position: relative;\n  margin-bottom: 10px;\n  z-index: 9;\n}\n.__tab-wrapper .__tab-list .__tab-list-item[data-v-465239b9] {\n  width: 80px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.__tab-wrapper .__tab-list .__tab-list-item.active[data-v-465239b9] {\n  font-weight: bold;\n  color: #262626;\n}\n.__tab-wrapper .__tab-list .__line-wrapper[data-v-465239b9] {\n  position: absolute;\n  bottom: -2px;\n}\n.__tab-wrapper .__tab-list .__line-wrapper .__line[data-v-465239b9] {\n  position: absolute;\n  width: 30px;\n  height: 4px;\n  border-radius: 2px;\n  background: linear-gradient(75deg, #e98465, #f5610b);\n}\n.__tab-wrapper .__tab-content[data-v-465239b9] {\n  width: 999999px;\n  display: flex;\n  flex-wrap: nowrap;\n}"),b.render=f,b.__scopeId="data-v-465239b9",b.__file="packages/standard-tabs/standard-tabs.vue",b.install=function(t){t.component(b.name,b)};export{b as s};
