import{e as n,g as t,i as e,B as a,C as i,p as o,j as l,D as r,o as s,b as d,m as c,E as u,n as p,G as m,q as f,l as g,H as h,y as v,s as b,T as w,t as y}from"./vendor.f536f7b4.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function x(n,t,e,a){return new(e||(e=Promise))((function(i,o){function l(n){try{s(a.next(n))}catch(t){o(t)}}function r(n){try{s(a.throw(n))}catch(t){o(t)}}function s(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(l,r)}s((a=a.apply(n,t||[])).next())}))}var k=n({name:"AnimationDialog",props:{width:{type:String,default:"60vw"},height:{type:String,default:"70vh"},animationMode:{type:Boolean,default:!1},animationIn:{type:String,default:"bounceIn"},animationOut:{type:String,default:"bounceOut"},time:{type:Number,default:500},timingFunction:{type:String,default:"ease-in-out"},openFromItself:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!1},customClass:String,customWrapperClass:String,listenWindowSizeChange:{type:Boolean,default:!1},debounceWait:{type:Number,default:200},title:{type:String},closeOnClickOutside:{type:Boolean,default:!0}},emits:["beforeClose","close"],setup(n,{emit:o}){const l=t(),s=t(),d=t(),c=e((()=>n.time/1e3));let u=null;const p=()=>{u&&clearTimeout(u),u=setTimeout((()=>x(this,void 0,void 0,(function*(){const{width:n,height:t}=l.value.getBoundingClientRect();l.value.style.left=`calc(50% - ${n/2}px`,l.value.top=`calc(50% - ${t/2}px)`,yield r();const{top:e,left:a,width:i,height:o}=l.value.getBoundingClientRect();d.value.style.top=`${e}px`,d.value.style.left=`${a}px`,d.value.style.width=`${i}px`,d.value.style.height=`${o}px`}))),n.debounceWait)};a((()=>{n.listenWindowSizeChange&&window.addEventListener("resize",p)})),i((()=>{n.listenWindowSizeChange&&window.removeEventListener("resize",p)}));const m=t(!1);let f=null,g=null;const h=()=>{if(n.animationMode)d.value.style.animation=`${n.animationOut} ${c.value}s forwards`,o("beforeClose"),setTimeout((()=>{m.value=!1}),n.time-10);else{if(!f)return;const{top:t,left:e,width:a,height:i}=f.getBoundingClientRect();d.value.classList.add("animating"),d.value.style.cssText=`top:${t}px; \n                                    left: ${e}px;\n                                    width: ${a}px;\n                                    height: ${i}px;\n                                    transition: ${c.value}s all ${n.timingFunction};`,o("beforeClose"),setTimeout((()=>{f&&(f.classList.remove("is-open"),d.value.classList.remove("animating"),m.value=!1,n.openFromItself&&(f.style.visibility="visible",d.value.querySelector(".dialog-body").removeChild(g))),o("close")}),n.time+100)}};return{open:t=>x(this,void 0,void 0,(function*(){if(n.animationMode){m.value=!0,yield r();const{width:t,height:e}=l.value.getBoundingClientRect();l.value.style.left=`calc(50% - ${t/2}px`,l.value.style.top=`calc(50% - ${e/2}px)`,yield r();const{top:a,left:i,width:o,height:s}=l.value.getBoundingClientRect();d.value.style.cssText=`top:${a}px; \n                                    left: ${i}px;\n                                    width: ${o}px;\n                                    height: ${s}px;\n                                    animation: ${n.animationIn} ${c.value}s forwards`}else{m.value=!0,f=t?"string"==typeof t?document.querySelector(t):t:s.value,f.classList.add("is-open"),yield r();const{top:e,left:a,width:i,height:o}=f.getBoundingClientRect();d.value.classList.add("animating"),d.value.style.cssText=`top:${e}px; left: ${a}px;width: ${i}px;height: ${o}px;`;const{width:u,height:p}=l.value.getBoundingClientRect();l.value.style.left=`calc(50% - ${u/2}px`,l.value.style.top=`calc(50% - ${p/2}px)`,n.openFromItself&&(g=f.cloneNode(!0),f.style.visibility="hidden",function(n,t){const e=t.parentNode;e.lastChild===t?e.appendChild(n):e.insertBefore(n,t.nextSibling)}(g,f),g.style.cssText="position:absolute;top:0;left:0;right:0;bottom:0;margin:0;width: auto;height:auto;",d.value.querySelector(".dialog-body").appendChild(g)),yield r();const{top:h,left:v,width:b,height:w}=l.value.getBoundingClientRect();d.value.style.cssText=`top:${h}px; \n                                    left: ${v}px;\n                                    width: ${b}px;\n                                    height: ${w}px;\n                                    transition: ${c.value}s all ${n.timingFunction}`,setTimeout((()=>{d.value.classList.remove("animating")}),n.time+10)}})),close:h,staticFake:l,centerFake:s,main:d,show:m,clickOutside:()=>{n.closeOnClickOutside&&h()}}}});o("data-v-1424118a");const $={ref:"centerFake",class:"dialog-center-fake"},C=[p("span",{class:"line"},null,-1),p("span",{class:"line"},null,-1)],B={key:0,class:"dialog-title"},S={class:"dialog-static-title"},T={class:"dialog-body"},O={key:1,class:"dialog-footer"};function I(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}l();I('.animation-dialog-wrapper[data-v-1424118a] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  z-index: 100001;\n}\n.animation-dialog-wrapper .dialog-static-fake[data-v-1424118a] {\n  position: absolute;\n  visibility: hidden;\n}\n.animation-dialog-wrapper .dialog-center-fake[data-v-1424118a] {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  visibility: hidden;\n}\n.animation-dialog-wrapper .dialog[data-v-1424118a] {\n  position: absolute;\n  background: #fff;\n  cursor: default;\n  box-shadow: 0 0 5px #888;\n  width: 50%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.animation-dialog-wrapper .dialog .dialog-body[data-v-1424118a] {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  padding: 20px;\n  flex: 1;\n}\n.animation-dialog-wrapper .dialog .dialog-title .dialog-static-title[data-v-1424118a] {\n  height: 60px;\n  line-height: 60px;\n  font-size: 18px;\n  font-weight: bold;\n  position: relative;\n  padding-left: 20px;\n}\n.animation-dialog-wrapper .dialog .dialog-title .dialog-static-title[data-v-1424118a]:after {\n  content: "";\n  position: absolute;\n  border-left: 4px solid #88aaff;\n  height: 20px;\n  top: 20px;\n  left: 10px;\n}\n.animation-dialog-wrapper .dialog.animating .dialog-body[data-v-1424118a] {\n  overflow: hidden;\n}\n.animation-dialog-wrapper .dialog .icon-close[data-v-1424118a] {\n  width: 36px;\n  height: 36px;\n  position: absolute;\n  right: 12px;\n  top: 10px;\n  background: transparent;\n  cursor: pointer;\n  z-index: 9999;\n}\n.animation-dialog-wrapper .dialog .icon-close .line[data-v-1424118a] {\n  display: block;\n  position: absolute;\n  width: 20px;\n  height: 2px;\n  top: 17px;\n  right: 8px;\n  transform-origin: center;\n  border-radius: 1px;\n  background: #99a;\n}\n.animation-dialog-wrapper .dialog .icon-close .line[data-v-1424118a]:nth-child(1) {\n  transform: rotate(45deg);\n}\n.animation-dialog-wrapper .dialog .icon-close .line[data-v-1424118a]:nth-child(2) {\n  transform: rotate(-45deg);\n}\n.animation-dialog-wrapper .dialog .icon-close:hover .line[data-v-1424118a] {\n  background: #667;\n}');I("\r\n/* Inject default animate css mode */\r\n/* Bouncing entrances  */\n@-webkit-keyframes bounceIn {\nfrom,\r\n  20%,\r\n  40%,\r\n  60%,\r\n  80%,\r\n  to {\r\n    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n}\n0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n20% {\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\n40% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n60% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.03, 1.03, 1.03);\r\n    transform: scale3d(1.03, 1.03, 1.03);\n}\n80% {\r\n    -webkit-transform: scale3d(0.97, 0.97, 0.97);\r\n    transform: scale3d(0.97, 0.97, 0.97);\n}\nto {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\n}\n}\n@keyframes bounceIn {\nfrom,\r\n  20%,\r\n  40%,\r\n  60%,\r\n  80%,\r\n  to {\r\n    -webkit-animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n}\n0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n20% {\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\n40% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n60% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.03, 1.03, 1.03);\r\n    transform: scale3d(1.03, 1.03, 1.03);\n}\n80% {\r\n    -webkit-transform: scale3d(0.97, 0.97, 0.97);\r\n    transform: scale3d(0.97, 0.97, 0.97);\n}\nto {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\n}\n}\n.animate__bounceIn {\r\n  -webkit-animation-duration: calc(1s * 0.75);\r\n  animation-duration: calc(1s * 0.75);\r\n  -webkit-animation-duration: calc(var(--animate-duration) * 0.75);\r\n  animation-duration: calc(var(--animate-duration) * 0.75);\r\n  -webkit-animation-name: bounceIn;\r\n  animation-name: bounceIn;\n}\r\n/* Bouncing exits  */\n@-webkit-keyframes bounceOut {\n20% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n50%,\r\n  55% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\nto {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n}\n@keyframes bounceOut {\n20% {\r\n    -webkit-transform: scale3d(0.9, 0.9, 0.9);\r\n    transform: scale3d(0.9, 0.9, 0.9);\n}\n50%,\r\n  55% {\r\n    opacity: 1;\r\n    -webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n    transform: scale3d(1.1, 1.1, 1.1);\n}\nto {\r\n    opacity: 0;\r\n    -webkit-transform: scale3d(0.3, 0.3, 0.3);\r\n    transform: scale3d(0.3, 0.3, 0.3);\n}\n}\n.animate__bounceOut {\r\n  -webkit-animation-duration: calc(1s * 0.75);\r\n  animation-duration: calc(1s * 0.75);\r\n  -webkit-animation-duration: calc(var(--animate-duration) * 0.75);\r\n  animation-duration: calc(var(--animate-duration) * 0.75);\r\n  -webkit-animation-name: bounceOut;\r\n  animation-name: bounceOut;\n}\r\n"),k.render=function(n,t,e,a,i,o){return s(),d(w,{to:"body",disabled:!n.appendToBody},[c(p("div",{class:f(["animation-dialog-wrapper",n.customWrapperClass]),onClick:t[1]||(t[1]=b(((...t)=>n.clickOutside&&n.clickOutside(...t)),["self"]))},[p("div",{ref:"staticFake",class:"dialog-static-fake",style:m({width:n.width,height:n.height})},null,4),p("div",$,null,512),p("div",{ref:"main",class:f(["dialog",n.customClass])},[p("div",{class:"icon-close",onClick:t[0]||(t[0]=(...t)=>n.close&&n.close(...t))},C),n.$slots.title||n.title?(s(),g("div",B,[h(n.$slots,"title",{},(()=>[p("div",S,y(n.title),1)]))])):v("v-if",!0),p("div",T,[h(n.$slots,"default")]),n.$slots.footer?(s(),g("div",O,[h(n.$slots,"footer")])):v("v-if",!0)],2)],2),[[u,n.show]])],8,["disabled"])},k.__scopeId="data-v-1424118a",k.__file="packages/animation-dialog/animation-dialog.vue",k.install=n=>{n.component(k.name,k)};export{k as s};
