import{e as t,g as e,i as n,w as a,D as i,o,k as l,m as s,F as r,q as u,n as c,G as d,t as v,H as h}from"./vendor.b64a22de.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function p(t,e,n,a){return new(n||(n=Promise))((function(i,o){function l(t){try{r(a.next(t))}catch(e){o(e)}}function s(t){try{r(a.throw(t))}catch(e){o(e)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,s)}r((a=a.apply(t,e||[])).next())}))}var b=t({name:"StandardTabs",props:{tabWidth:{type:Number,default:80},lineWidth:{type:Number,default:30},tabContentWidth:{type:[Number,String],default:"100vw"},tabContentMinHeight:{type:String,default:"100px"},tabList:{type:Array,required:!0},transitionDuration:{type:Number,default:400},mainTransitionTimingFunction:{type:String,default:"cubic-bezier(0.075, 0.82, 0.165, 1)"},tabTransitionTimingFunction:{type:String,default:"cubic-bezier(0.175, 0.885, 0.32, 1.275)"},tabCustomStyle:{type:String,default:""},stopPropagation:{type:Boolean,default:!1},moveEventPrevent:{type:Boolean,default:!0}},emits:["tabActiveChange","contentTouchStart","contentTouchMove","contentTouchEnd"],setup(t,{emit:o}){let l=0,s=0,r=0,u=0,c=0,d=!1,v=!1;const h=e(0),b=e(0),m=e(0),f=e(0),T=e(0),_=e(!1),g=e(!1),y=e(!1),w=e(!1),x=n((()=>t.tabWidth*t.tabList.length)),W=n((()=>{if("number"==typeof t.tabContentWidth)return t.tabContentWidth;if("string"==typeof t.tabContentWidth&&/\d+vw/.test(t.tabContentWidth)){return~~t.tabContentWidth.replace("vw","")*window.innerWidth/100}return console.error("[StandardTabs]Props Error: tabContentWidth is invalid, it will reset to 100vw!"),window.innerWidth})),S=n((()=>(t.tabWidth-t.lineWidth)/2)),C=n((()=>`transition: all ${t.transitionDuration/1e3}s ${t.mainTransitionTimingFunction}`)),M=n((()=>`transition: all ${t.transitionDuration/1e3}s ${t.tabTransitionTimingFunction}`)),$=n((()=>{let e=h.value*t.tabWidth,n=t.tabWidth*(t.tabList.length-1);return e<0?e=0:e>n&&(e=n),e}));a(h,(t=>{o("tabActiveChange",t)}));const L=e=>{const n=e*t.tabWidth-W.value/2+t.tabWidth/2,a=x.value-W.value;a<0||(f.value=n<0?0:n>a?-a:-n)};return{active:h,preActive:b,lineDynamicWidth:m,tabListMove:f,tabContentMove:T,transition:_,denyLineTransition:g,isDragRight:y,isYScroll:w,tabListMaxWidth:x,tabContentRealWidth:W,lineSpacing:S,computedMainTransitionStr:C,computedTabTransitionStr:M,lineLeft:$,listTouchStart:t=>{const{clientX:e}=t.touches[0];l=e},listTouchMove:t=>{const{clientX:e}=t.touches[0],n=e-l,a=x.value-W.value;f.value=f.value+n,f.value>0?f.value=0:f.value<-a&&(f.value=-a),l=e},listTouchEnd:t=>{console.log("touchEnd",t)},contentTouchStart:e=>{const{clientX:n,clientY:a}=e.touches[0];s=r=n,u=a,c=T.value,m.value=0,g.value=!0,d=!0,setTimeout((()=>{d=!1}),300),o("contentTouchStart",e),t.stopPropagation&&e.stopPropagation()},contentTouchMove:e=>{const n=t.tabWidth/W.value,{clientX:a,clientY:i}=e.touches[0],l=a-s;if(v||(v=!0,w.value=Math.abs(i-u)/Math.abs(a-r)>1),y.value=a-r<0,w.value)return;t.moveEventPrevent&&e.preventDefault();const c=W.value*(t.tabList.length-1);if(T.value=T.value+l,y.value?h.value!==t.tabList.length-1&&(m.value+=-l*n):0!==h.value&&(m.value+=+l*n),m.value<0&&(m.value=0),T.value>0)T.value=0;else if(T.value<-c)T.value=-c;else{const t=a-r;Math.abs(t)>W.value/2?t<0?b.value!==h.value+1&&b.value++:b.value!==h.value-1&&b.value--:b.value=h.value}s=a,o("contentTouchMove",e),t.stopPropagation&&e.stopPropagation()},contentTouchEnd:e=>p(this,void 0,void 0,(function*(){if(v=!1,w.value)return;const{clientX:n}=e.changedTouches[0],a=n-r,l=Math.abs(a);if(_.value=!0,g.value=!1,yield i(),d&&l>10||l>W.value/2){if(a>0){if(0===h.value)return;T.value=c+W.value,h.value--}else{if(h.value===t.tabList.length-1)return;T.value=c-W.value,h.value++}b.value=h.value,L(h.value)}else T.value=c;m.value=0,setTimeout((()=>{_.value=!1}),500),o("contentTouchEnd",e),t.stopPropagation&&e.stopPropagation()})),setActive:t=>p(this,void 0,void 0,(function*(){_.value=!0,yield i(),h.value=b.value=t,L(t),T.value=-h.value*W.value,setTimeout((()=>{_.value=!1}),500)}))}}});const m=["onClick"];!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".deny-transition[data-v-465239b9] {\n  transition: none !important;\n}\n.__tab-wrapper[data-v-465239b9] {\n  width: 100vw;\n  overflow: hidden;\n}\n.__tab-wrapper .__tab-list[data-v-465239b9] {\n  width: 999999px;\n  display: flex;\n  flex-wrap: nowrap;\n  position: relative;\n  margin-bottom: 10px;\n  z-index: 9;\n}\n.__tab-wrapper .__tab-list .__tab-list-item[data-v-465239b9] {\n  width: 80px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.__tab-wrapper .__tab-list .__tab-list-item.active[data-v-465239b9] {\n  font-weight: bold;\n  color: #262626;\n}\n.__tab-wrapper .__tab-list .__line-wrapper[data-v-465239b9] {\n  position: absolute;\n  bottom: -2px;\n}\n.__tab-wrapper .__tab-list .__line-wrapper .__line[data-v-465239b9] {\n  position: absolute;\n  width: 30px;\n  height: 4px;\n  border-radius: 2px;\n  background: linear-gradient(75deg, #e98465, #f5610b);\n}\n.__tab-wrapper .__tab-content[data-v-465239b9] {\n  width: 999999px;\n  display: flex;\n  flex-wrap: nowrap;\n}"),b.render=function(t,e,n,a,i,p){return o(),l("div",{class:"__tab-wrapper",style:d(`width: ${t.tabContentRealWidth}px`)},[s("div",{class:"__tab-list",style:d(`width:${t.tabListMaxWidth}px;transform: translateX(${t.tabListMove}px);${t.tabCustomStyle};${t.transition&&t.computedTabTransitionStr};`),onTouchstart:e[0]||(e[0]=(...e)=>t.listTouchStart&&t.listTouchStart(...e)),onTouchmove:e[1]||(e[1]=(...e)=>t.listTouchMove&&t.listTouchMove(...e)),onTouchend:e[2]||(e[2]=(...e)=>t.listTouchEnd&&t.listTouchEnd(...e))},[(o(!0),l(r,null,u(t.tabList,((e,n)=>(o(),l("div",{key:e,class:c(["__tab-list-item",{active:t.preActive===n}]),style:d(`width: ${t.tabWidth}px`),onClick:e=>t.setActive(n)},v(e),15,m)))),128)),s("div",{class:c(["__line-wrapper",{"deny-transition":t.denyLineTransition}]),style:d(`width: ${t.tabWidth}px;transform: translateX(${t.lineLeft}px);${t.transition&&t.computedMainTransitionStr}`)},[s("div",{class:"__line",style:d(`width: ${t.lineWidth+t.lineDynamicWidth}px;${t.isDragRight?"left":"right"}: ${t.lineSpacing}px;${t.transition&&t.computedMainTransitionStr};`)},null,4)],6)],36),s("div",{class:"__tab-content",style:d(`width:${100*t.tabList.length}vw;transform: translateX(${t.tabContentMove}px);${t.transition&&t.computedMainTransitionStr}`),onTouchstart:e[3]||(e[3]=(...e)=>t.contentTouchStart&&t.contentTouchStart(...e)),onTouchmove:e[4]||(e[4]=(...e)=>t.contentTouchMove&&t.contentTouchMove(...e)),onTouchend:e[5]||(e[5]=(...e)=>t.contentTouchEnd&&t.contentTouchEnd(...e))},[(o(!0),l(r,null,u(t.tabList,((e,n)=>(o(),l("div",{key:e,class:c(["__tab-content-item",{active:t.active===n}]),style:d(`width: ${t.tabContentRealWidth}px;min-height: ${t.tabContentMinHeight}`)},[h(t.$slots,`tab${n+1}`)],6)))),128))],36)],4)},b.__scopeId="data-v-465239b9",b.__file="packages/standard-tabs/standard-tabs.vue",b.install=t=>{t.component(b.name,b)};export{b as s};
