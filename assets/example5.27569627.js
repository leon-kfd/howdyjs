import{a as h}from"./index.es.5eac8f7c.js";import{_ as D}from"./index.64191584.js";import{e as T,g as l,j as y,o as m,k as c,m as s,G as C,l as E,F as S,y as w,z as B,L as R}from"./vendor.84c53e66.js";var b="./images/compass.svg";const F=T({directives:{"to-drag":h},setup(){const e=l(0),o=l();return{rotate:e,compass:o,options:{immediateEvent:!0,forbidBodyScroll:!1},setCompassRotate(r){const{top:n,left:d,width:i,height:a}=o.value.getBoundingClientRect(),t=[d-i/2,n-a/2],{top:u,left:v,width:g,height:_}=r,p=[v-g/2,u-_/2],f=Math.atan2(p[1]-t[1],p[0]-t[0])/Math.PI*180;e.value=f+90},handleToDragStart(){document.body.style.overflow="hidden"},handleToDragEnd(){document.body.style.overflow="visible"}}}}),I=e=>(w("data-v-4d4f08e8"),e=e(),B(),e),$=I(()=>s("div",{class:"text"}," \u8BF7\u62D6\u62FD\u5C4F\u5E55\u4E0A\u7684\u7D2B\u8272\u6D6E\u5757 ",-1)),k={class:"compass-box"},P={ref:"compass",src:b,alt:"compass",class:"compass"},x=R(" DRAG "),z=[x];function A(e,o,r,n,d,i){const a=y("to-drag");return m(),c(S,null,[$,s("div",k,[s("div",{class:"img-wrapper",style:C({transform:`rotate(${e.rotate}deg)`})},[s("img",P,null,512)],4)]),E((m(),c("div",{class:"move-box",onTodraginit:o[0]||(o[0]=(...t)=>e.setCompassRotate&&e.setCompassRotate(...t)),onTodragstart:o[1]||(o[1]=(...t)=>e.handleToDragStart&&e.handleToDragStart(...t)),onTodragmove:o[2]||(o[2]=(...t)=>e.setCompassRotate&&e.setCompassRotate(...t)),onTodragend:o[3]||(o[3]=(...t)=>e.handleToDragEnd&&e.handleToDragEnd(...t))},z,32)),[[a,e.options]])],64)}var N=D(F,[["render",A],["__scopeId","data-v-4d4f08e8"]]);export{N as default};
