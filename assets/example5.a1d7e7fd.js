import{a}from"./index.es.5eac8f7c.js";import{_ as t}from"./index.0fcc9bbb.js";import{e as s,g as o,j as e,o as d,k as r,m as n,G as i,l,F as m,y as c,z as p,K as g}from"./vendor.b64a22de.js";const v=s({directives:{"to-drag":a},setup(){const a=o(0),t=o();return{rotate:a,compass:t,options:{immediateEvent:!0,forbidBodyScroll:!1},setCompassRotate(s){const{top:o,left:e,width:d,height:r}=t.value.getBoundingClientRect(),n=[e-d/2,o-r/2],{top:i,left:l,width:m,height:c}=s,p=[l-m/2,i-c/2],g=Math.atan2(p[1]-n[1],p[0]-n[0])/Math.PI*180;a.value=g+90},handleToDragStart(){document.body.style.overflow="hidden"},handleToDragEnd(){document.body.style.overflow="visible"}}}}),f=(a=>(c("data-v-4d4f08e8"),a=a(),p(),a))((()=>n("div",{class:"text"}," 请拖拽屏幕上的紫色浮块 ",-1))),h={class:"compass-box"},u={ref:"compass",src:"./images/compass.svg",alt:"compass",class:"compass"},b=[g(" DRAG ")];var T=t(v,[["render",function(a,t,s,o,c,p){const g=e("to-drag");return d(),r(m,null,[f,n("div",h,[n("div",{class:"img-wrapper",style:i({transform:`rotate(${a.rotate}deg)`})},[n("img",u,null,512)],4)]),l(n("div",{class:"move-box",onTodraginit:t[0]||(t[0]=(...t)=>a.setCompassRotate&&a.setCompassRotate(...t)),onTodragstart:t[1]||(t[1]=(...t)=>a.handleToDragStart&&a.handleToDragStart(...t)),onTodragmove:t[2]||(t[2]=(...t)=>a.setCompassRotate&&a.setCompassRotate(...t)),onTodragend:t[3]||(t[3]=(...t)=>a.handleToDragEnd&&a.handleToDragEnd(...t))},b,544),[[g,a.options]])],64)}],["__scopeId","data-v-4d4f08e8"]]);export{T as default};
