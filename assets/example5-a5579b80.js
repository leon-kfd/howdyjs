import{a as h}from"./index.es-cc6df814.js";import{d as D,a as l,_ as T,h as y,o as m,i as c,k as s,D as w,j as C,L as E,F as R,s as S,x as B}from"./index-c0388996.js";const b=D({directives:{"to-drag":h},setup(){const e=l(0),o=l();return{rotate:e,compass:o,options:{immediateEvent:!0,forbidBodyScroll:!1},setCompassRotate(n){const{top:r,left:d,width:i,height:a}=o.value.getBoundingClientRect(),t=[d-i/2,r-a/2],{top:u,left:g,width:v,height:f}=n,p=[g-v/2,u-f/2],_=Math.atan2(p[1]-t[1],p[0]-t[0])/Math.PI*180;e.value=_+90},handleToDragStart(){document.body.style.overflow="hidden"},handleToDragEnd(){document.body.style.overflow="visible"}}}}),F=""+new URL("../images/compass.svg",import.meta.url).href;const I=e=>(S("data-v-92cf834f"),e=e(),B(),e),$=I(()=>s("div",{class:"text"}," 请拖拽屏幕上的紫色浮块 ",-1)),k={class:"compass-box"},x={ref:"compass",src:F,alt:"compass",class:"compass"};function L(e,o,n,r,d,i){const a=y("to-drag");return m(),c(R,null,[$,s("div",k,[s("div",{class:"img-wrapper",style:w({transform:`rotate(${e.rotate}deg)`})},[s("img",x,null,512)],4)]),C((m(),c("div",{class:"move-box",onTodraginit:o[0]||(o[0]=(...t)=>e.setCompassRotate&&e.setCompassRotate(...t)),onTodragstart:o[1]||(o[1]=(...t)=>e.handleToDragStart&&e.handleToDragStart(...t)),onTodragmove:o[2]||(o[2]=(...t)=>e.setCompassRotate&&e.setCompassRotate(...t)),onTodragend:o[3]||(o[3]=(...t)=>e.handleToDragEnd&&e.handleToDragEnd(...t))},[E(" DRAG ")],32)),[[a,e.options]])],64)}const M=T(b,[["render",L],["__scopeId","data-v-92cf834f"]]);export{M as default};
