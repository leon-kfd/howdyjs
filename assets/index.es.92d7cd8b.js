import{e as t,i as e,h as n,k as a,A as i,b as o,f as l,F as s,s as r,w as u,o as c,t as d,C as v}from"./vendor.6cbc38b6.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function h(t,e,n,a){return new(n||(n=Promise))((function(i,o){function l(t){try{r(a.next(t))}catch(e){o(e)}}function s(t){try{r(a.throw(t))}catch(e){o(e)}}function r(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,s)}r((a=a.apply(t,e||[])).next())}))}var p=t({name:"StandardTabs",props:{tabWidth:{type:Number,default:80},lineWidth:{type:Number,default:30},tabContentWidth:{type:[Number,String],default:"100vw"},tabContentMinHeight:{type:String,default:"100px"},tabList:{type:Array,required:!0},transitionDuration:{type:Number,default:400},mainTransitionTimingFunction:{type:String,default:"cubic-bezier(0.075, 0.82, 0.165, 1)"},tabTransitionTimingFunction:{type:String,default:"cubic-bezier(0.175, 0.885, 0.32, 1.275)"},tabCustomStyle:{type:String,default:""},stopPropagation:{type:Boolean,default:!1},moveEventPrevent:{type:Boolean,default:!0}},emits:["tabActiveChange","contentTouchStart","contentTouchMove","contentTouchEnd"],setup(t,{emit:o}){let l=0,s=0,r=0,u=0,c=0,d=!1,v=!1;const p=e(0),b=e(0),f=e(0),m=e(0),T=e(0),_=e(!1),g=e(!1),y=e(!1),w=e(!1),x=n((()=>t.tabWidth*t.tabList.length)),W=n((()=>{if("number"==typeof t.tabContentWidth)return t.tabContentWidth;if("string"==typeof t.tabContentWidth&&/\d+vw/.test(t.tabContentWidth)){return~~t.tabContentWidth.replace("vw","")*window.innerWidth/100}return console.error("[StandardTabs]Props Error: tabContentWidth is invalid, it will reset to 100vw!"),window.innerWidth})),S=n((()=>(t.tabWidth-t.lineWidth)/2)),C=n((()=>`transition: all ${t.transitionDuration/1e3}s ${t.mainTransitionTimingFunction}`)),M=n((()=>`transition: all ${t.transitionDuration/1e3}s ${t.tabTransitionTimingFunction}`)),$=n((()=>{let e=p.value*t.tabWidth,n=t.tabWidth*(t.tabList.length-1);return e<0?e=0:e>n&&(e=n),e}));a(p,(t=>{o("tabActiveChange",t)}));const L=e=>{const n=e*t.tabWidth-W.value/2+t.tabWidth/2,a=x.value-W.value;a<0||(m.value=n<0?0:n>a?-a:-n)};return{active:p,preActive:b,lineDynamicWidth:f,tabListMove:m,tabContentMove:T,transition:_,denyLineTransition:g,isDragRight:y,isYScroll:w,tabListMaxWidth:x,tabContentRealWidth:W,lineSpacing:S,computedMainTransitionStr:C,computedTabTransitionStr:M,lineLeft:$,listTouchStart:t=>{const{clientX:e}=t.touches[0];l=e},listTouchMove:t=>{const{clientX:e}=t.touches[0],n=e-l,a=x.value-W.value;m.value=m.value+n,m.value>0?m.value=0:m.value<-a&&(m.value=-a),l=e},listTouchEnd:t=>{console.log("touchEnd",t)},contentTouchStart:e=>{const{clientX:n,clientY:a}=e.touches[0];s=r=n,u=a,c=T.value,f.value=0,g.value=!0,d=!0,setTimeout((()=>{d=!1}),300),o("contentTouchStart",e),t.stopPropagation&&e.stopPropagation()},contentTouchMove:e=>{const n=t.tabWidth/W.value,{clientX:a,clientY:i}=e.touches[0],l=a-s;if(v||(v=!0,w.value=Math.abs(i-u)/Math.abs(a-r)>1),y.value=a-r<0,w.value)return;t.moveEventPrevent&&e.preventDefault();const c=W.value*(t.tabList.length-1);if(T.value=T.value+l,y.value?p.value!==t.tabList.length-1&&(f.value+=-l*n):0!==p.value&&(f.value+=+l*n),f.value<0&&(f.value=0),T.value>0)T.value=0;else if(T.value<-c)T.value=-c;else{const t=a-r;Math.abs(t)>W.value/2?t<0?b.value!==p.value+1&&b.value++:b.value!==p.value-1&&b.value--:b.value=p.value}s=a,o("contentTouchMove",e),t.stopPropagation&&e.stopPropagation()},contentTouchEnd:e=>h(this,void 0,void 0,(function*(){if(v=!1,w.value)return;const{clientX:n}=e.changedTouches[0],a=n-r,l=Math.abs(a);if(_.value=!0,g.value=!1,yield i(),d&&l>10||l>W.value/2){if(a>0){if(0===p.value)return;T.value=c+W.value,p.value--}else{if(p.value===t.tabList.length-1)return;T.value=c-W.value,p.value++}b.value=p.value,L(p.value)}else T.value=c;f.value=0,setTimeout((()=>{_.value=!1}),500),o("contentTouchEnd",e),t.stopPropagation&&e.stopPropagation()})),setActive:t=>h(this,void 0,void 0,(function*(){_.value=!0,yield i(),p.value=b.value=t,L(t),T.value=-p.value*W.value,setTimeout((()=>{_.value=!1}),500)}))}}});const b=u()(((t,e,n,a,i,u)=>(c(),o("div",{class:"__tab-wrapper",style:`width: ${t.tabContentRealWidth}px`},[l("div",{class:"__tab-list",style:`width:${t.tabListMaxWidth}px;transform: translateX(${t.tabListMove}px);${t.tabCustomStyle};${t.transition&&t.computedTabTransitionStr};`,onTouchstart:e[1]||(e[1]=(...e)=>t.listTouchStart&&t.listTouchStart(...e)),onTouchmove:e[2]||(e[2]=(...e)=>t.listTouchMove&&t.listTouchMove(...e)),onTouchend:e[3]||(e[3]=(...e)=>t.listTouchEnd&&t.listTouchEnd(...e))},[(c(!0),o(s,null,r(t.tabList,((e,n)=>(c(),o("div",{key:e,class:["__tab-list-item",{active:t.preActive===n}],style:`width: ${t.tabWidth}px`,onClick:e=>t.setActive(n)},d(e),15,["onClick"])))),128)),l("div",{class:["__line-wrapper",{"deny-transition":t.denyLineTransition}],style:`width: ${t.tabWidth}px;transform: translateX(${t.lineLeft}px);${t.transition&&t.computedMainTransitionStr}`},[l("div",{class:"__line",style:`width: ${t.lineWidth+t.lineDynamicWidth}px;${t.isDragRight?"left":"right"}: ${t.lineSpacing}px;${t.transition&&t.computedMainTransitionStr};`},null,4)],6)],36),l("div",{class:"__tab-content",style:`width:${100*t.tabList.length}vw;transform: translateX(${t.tabContentMove}px);${t.transition&&t.computedMainTransitionStr}`,onTouchstart:e[4]||(e[4]=(...e)=>t.contentTouchStart&&t.contentTouchStart(...e)),onTouchmove:e[5]||(e[5]=(...e)=>t.contentTouchMove&&t.contentTouchMove(...e)),onTouchend:e[6]||(e[6]=(...e)=>t.contentTouchEnd&&t.contentTouchEnd(...e))},[(c(!0),o(s,null,r(t.tabList,((e,n)=>(c(),o("div",{key:e,class:["__tab-content-item",{active:t.active===n}],style:`width: ${t.tabContentRealWidth}px;min-height: ${t.tabContentMinHeight}`},[v(t.$slots,`tab${n+1}`)],6)))),128))],36)],4))));!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".deny-transition[data-v-465239b9] {\n  transition: none !important;\n}\n.__tab-wrapper[data-v-465239b9] {\n  width: 100vw;\n  overflow: hidden;\n}\n.__tab-wrapper .__tab-list[data-v-465239b9] {\n  width: 999999px;\n  display: flex;\n  flex-wrap: nowrap;\n  position: relative;\n  margin-bottom: 10px;\n  z-index: 9;\n}\n.__tab-wrapper .__tab-list .__tab-list-item[data-v-465239b9] {\n  width: 80px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.__tab-wrapper .__tab-list .__tab-list-item.active[data-v-465239b9] {\n  font-weight: bold;\n  color: #262626;\n}\n.__tab-wrapper .__tab-list .__line-wrapper[data-v-465239b9] {\n  position: absolute;\n  bottom: -2px;\n}\n.__tab-wrapper .__tab-list .__line-wrapper .__line[data-v-465239b9] {\n  position: absolute;\n  width: 30px;\n  height: 4px;\n  border-radius: 2px;\n  background: linear-gradient(75deg, #e98465, #f5610b);\n}\n.__tab-wrapper .__tab-content[data-v-465239b9] {\n  width: 999999px;\n  display: flex;\n  flex-wrap: nowrap;\n}"),p.render=b,p.__scopeId="data-v-465239b9",p.__file="packages/standard-tabs/standard-tabs.vue",p.install=t=>{t.component(p.name,p)};export{p as s};
