var t=function(t,e,n){var o=document.createElement(t);return o.setAttribute("id",e),n&&(o.innerText=n),o};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("#__imgZoomMask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.9);\n  z-index: 99999;\n  display: flex;\n  animation: fadeIn .4s;\n  overflow: auto; }\n  #__imgZoomMask #__img {\n    margin: auto;\n    max-width: 85%; }\n  #__imgZoomMask #__imgZoomTitle {\n    position: absolute;\n    top: 10px;\n    width: 100%;\n    text-align: center;\n    line-height: 30px;\n    color: #c8c8cc;\n    font-weight: bold;\n    font-size: 22px;\n    padding: 0 50px;\n    box-sizing: border-box; }\n  #__imgZoomMask #__imgZoomFooter {\n    position: absolute;\n    bottom: 10px;\n    width: 100%;\n    text-align: center;\n    line-height: 30px;\n    color: #c8c8cc;\n    font-weight: bold; }\n  #__imgZoomMask #__leftBtn,\n  #__imgZoomMask #__rightBtn {\n    position: absolute;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background: rgba(0, 0, 0, 0.65);\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer; }\n    #__imgZoomMask #__leftBtn:after,\n    #__imgZoomMask #__rightBtn:after {\n      content: '';\n      position: absolute;\n      width: 20px;\n      height: 20px;\n      top: 15px;\n      box-sizing: border-box; }\n    #__imgZoomMask #__leftBtn:hover,\n    #__imgZoomMask #__rightBtn:hover {\n      background: rgba(0, 0, 0, 0.85); }\n  #__imgZoomMask #__leftBtn {\n    left: 20px; }\n    #__imgZoomMask #__leftBtn:after {\n      border-top: 2px solid #99a;\n      border-left: 2px solid #99a;\n      transform: rotate(-45deg);\n      left: 20px; }\n    #__imgZoomMask #__leftBtn:hover:after {\n      border-top: 2px solid #eee;\n      border-left: 2px solid #eee; }\n  #__imgZoomMask #__rightBtn {\n    right: 20px; }\n    #__imgZoomMask #__rightBtn:after {\n      border-top: 2px solid #889;\n      border-right: 2px solid #889;\n      transform: rotate(45deg);\n      right: 20px; }\n    #__imgZoomMask #__rightBtn:hover:after {\n      border-top: 2px solid #eee;\n      border-right: 2px solid #eee; }\n  #__imgZoomMask #__closeBtn {\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    top: 10px;\n    right: 10px;\n    cursor: pointer;\n    z-index: 100000; }\n    #__imgZoomMask #__closeBtn::before {\n      content: '';\n      position: absolute;\n      width: 30px;\n      border-top: 2px solid #eee;\n      left: 5px;\n      top: 19px;\n      transform: rotate(45deg); }\n    #__imgZoomMask #__closeBtn::after {\n      content: '';\n      position: absolute;\n      width: 30px;\n      border-top: 2px solid #eee;\n      left: 5px;\n      top: 19px;\n      transform: rotate(-45deg); }\n  #__imgZoomMask #__imgZoomLoader {\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    top: calc(50% - 20px);\n    left: calc(50% - 20px);\n    background: #b9b9eb;\n    z-index: 100000;\n    animation: squareLoader 1.2s infinite ease-in-out; }\n\n@keyframes squareLoader {\n  0% {\n    transform: perspective(120px) rotateX(0deg) rotateY(0deg); }\n  50% {\n    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg); }\n  100% {\n    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg); } }\n");var e={},n=function(){function n(n){var o=this,i=n.el,r=n.options;if(i instanceof HTMLElement?this.el=i:this.el=document.querySelector(i),this.imgSrc=(null==r?void 0:r.imgSrc)||this.el.getAttribute("src"),this.el.$imgZoom=this,null==r?void 0:r.group)if(this.group=r.group,e[this.group]){var s=e[this.group].push({title:r.title,imgSrc:this.imgSrc});this.groupIndex=s-1}else e[this.group]=[{title:r.title,imgSrc:this.imgSrc}],this.groupIndex=0;(null==r?void 0:r.zoomCursor)&&(this.el.style.cursor="zoom-in"),this.clickHandler=function(n){(null==r?void 0:r.preventDefault)&&n.preventDefault();var i=t("div","__imgZoomMask");document.body.append(i);var s=t("div","__imgZoomLoader");i.appendChild(s);var a=new Image;a.src=o.imgSrc,a.setAttribute("id","__img"),a.onload=function(){i.contains(a)||i.appendChild(a),a.style.display="block",s.style.display="none"};var l,d=function(){i.style.opacity="0",i.style.transition="all 0.4s",setTimeout((function(){var t;null===(t=null==i?void 0:i.parentNode)||void 0===t||t.removeChild(i)}),400)};if(null==r?void 0:r.showCloseBtn){var p=t("div","__closeBtn");p.addEventListener("click",d),i.appendChild(p)}else i.addEventListener("click",d),(null==r?void 0:r.zoomCursor)&&(i.style.cursor="zoom-out");if((null==r?void 0:r.title)&&(l=t("div","__imgZoomTitle",r.title),i.appendChild(l)),o.group&&e[o.group]){var g=o.groupIndex,m=t("div","__imgZoomFooter",g+1+" / "+e[o.group].length);i.appendChild(m);var c=t("div","__leftBtn");c.addEventListener("click",(function(t){g>0&&(a.src=e[o.group][--g].imgSrc,a.complete||(a.style.display="none",s.style.display="block"),m.innerText=g+1+" / "+e[o.group].length,l&&(l.innerText=""+e[o.group][g].title)),t.stopPropagation()})),i.appendChild(c);var u=t("div","__rightBtn");u.addEventListener("click",(function(t){g<e[o.group].length-1&&(a.src=e[o.group][++g].imgSrc,a.complete||(a.style.display="none",s.style.display="block"),m.innerText=g+1+" / "+e[o.group].length,l&&(l.innerText=""+e[o.group][g].title)),t.stopPropagation()})),i.appendChild(u)}},this.el.addEventListener("click",this.clickHandler)}return n.prototype.destory=function(){var t=this;if(this.el.removeEventListener("click",this.clickHandler),this.group&&this.groupIndex&&this.groupIndex>=0){var n=e[this.group].findIndex((function(e){return e.imgSrc=t.imgSrc}));~n&&e[this.group].splice(n,1)}},n}(),o=function(t,e){var o=e.arg,i=e.value,r={};i?"string"==typeof i?r.imgSrc=i:r=i:r.imgSrc=t.getAttribute("src"),o&&(r.group=o),new n({el:t,options:r})},i=function(t){t.$imgZoom&&t.$imgZoom.destory()},r={install:function(t){t.directive("img-zoom",{mounted:o,unmounted:i,inserted:o,unbind:i})},mounted:o,unmounted:i,inserted:o,unbind:i};export{r as I};
