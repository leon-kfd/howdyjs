import{T as a}from"./index.es.0d12ee25.js";import{d as t,f as s,j as o,c as e,a as d,k as r,F as n,w as i,p as l,b as c,o as m}from"./index.d1bea9dc.js";import"./tslib.es6.3b1b0bea.js";var p=t({directives:{"to-drag":a},setup(){const a=s(0),t=s();return{rotate:a,compass:t,options:{immediateEvent:!0,forbidBodyScroll:!1},setCompassRotate(s){const{top:o,left:e,width:d,height:r}=t.value.getBoundingClientRect(),n=[e-d/2,o-r/2],{top:i,left:l,width:c,height:m}=s,p=[l-c/2,i-m/2],g=Math.atan2(p[1]-n[1],p[0]-n[0])/Math.PI*180;a.value=g+90},handleToDragStart(){document.body.style.overflow="hidden"},handleToDragEnd(){document.body.style.overflow="visible"}}}});const g=i();l("data-v-4d4f08e8");const v=d("div",{class:"text"}," 请拖拽屏幕上的紫色浮块 ",-1),h={class:"compass-box"},f={ref:"compass",src:"./images/compass.svg",alt:"compass",class:"compass"};c();const b=g(((a,t,s,i,l,c)=>{const p=o("to-drag");return m(),e(n,null,[v,d("div",h,[d("div",{class:"img-wrapper",style:{transform:`rotate(${a.rotate}deg)`}},[d("img",f,null,512)],4)]),r(d("div",{class:"move-box",onTodraginit:t[1]||(t[1]=(...t)=>a.setCompassRotate&&a.setCompassRotate(...t)),onTodragstart:t[2]||(t[2]=(...t)=>a.handleToDragStart&&a.handleToDragStart(...t)),onTodragmove:t[3]||(t[3]=(...t)=>a.setCompassRotate&&a.setCompassRotate(...t)),onTodragend:t[4]||(t[4]=(...t)=>a.handleToDragEnd&&a.handleToDragEnd(...t))}," DRAG ",544),[[p,a.options]])],64)}));p.render=b,p.__scopeId="data-v-4d4f08e8";export default p;
